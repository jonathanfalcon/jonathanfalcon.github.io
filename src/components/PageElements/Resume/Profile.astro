---
import { profile } from '@/config/resume'
import { siteConfig } from '@/config/siteConfig'
import blurHashImage from '@/utils/blurhash/blur'
import BlurhashPicture from '@/utils/blurhash/BlurhashPicture.astro'
import { Icon } from 'astro-icon'
import Card from './Elements/Card.astro'

import profileImage from '@/assets/images/profile-resume.jpg'
---

<Card class='flex h-fit flex-col !p-5 md:sticky lg:top-10 md:top-5 md:basis-1/4 gap-y-2'>
    <BlurhashPicture
        src={profileImage}
        widths={[300, 400, 800]}
        alt='Jonathan Falcon smiling at the camera.'
        aspectRatio='1:1'
        class='rounded-full w-32 mx-auto'
        blurhashWidth={10}
    />

    <div class='text-center'>
        <h2 class='font-black text-3xl font-heading'>{profile.name}</h2>
        <p class='font-medium text-slate-600 dark:text-slate-300 leading-tight'>{profile.title}</p>
    </div>

    <hr class='rounded-full border-2 border-slate-300 dark:border-slate-600 mt-3' />

    <nav role='navigation' aria-label='social'>
        <ul class='flex items-center justify-evenly'>
            {
                siteConfig.socials.map(({ platform, url, icon }) => (
                        <li>
                            <a
                                    class="relative z-0 flex p-3 text-slate-500 hover:text-slate-700 dark:hover:text-slate-200 dark:text-slate-400 transition-colors duration-200 before:absolute before:inset-0 before:-z-10 before:scale-0 before:rounded-lg dark:before:bg-slate-600 before:bg-slate-300 before:transition-transform before:duration-200 before:content-[''] hover:before:scale-100 focus:text-slate-700 dark:focus:text-slate-200 focus:outline-none focus:before:scale-100"
                                    aria-label={platform}
                                    title={platform}
                                    href={url}
                                    target='_blank'
                            >
                                <Icon name={icon} class='h-9 w-9' aria-hidden='true' />
                            </a>
                        </li>
                ))
            }
        </ul>
    </nav>
</Card>
